## 命名实体识别
                         
    是指识别文本中具有特定意义的实体，主要包括人名、地名、机构名、专有名词等。
    
    命名实体识别是信息提取、问答系统、句法分析、机器翻译、面向SemanticWeb的元数据标注等应用领域的重要基础工具，
    在自然语言处理技术走向实用化的过程中占有重要地位

### 任务
识别出待处理文本中三大类（`实体类`、`时间类`和`数字类`）、七小类（`人名`、`机构名`、`地名`、`时间`、`日期`、`货币`和`百分比`）命名实体
### 关键
如何在一个集成的框架下进行各类命名实体的识别并达到一个整体的最优效果

### 主要过程
* 实体边界识别
* 确定实体类别

### 难点
1. 汉语文本没有类似英文文本中空格之类的显式标示词的边界标示符，命名实体识别的第一步就是确定词的边界，即分词
2. 汉语分词和命名实体识别互相影响
3. 现代汉语文本，尤其是网络汉语文本，常出现中英文交替使用，这时汉语命名实体识别的任务还包括识别其中的英文命名实体
4. 不同的命名实体具有不同的内部特征，不可能用一个统一的模型来刻画所有的实体内部特征。
5. 某些类型的实体名称变化频繁，并且没有严格的规律可循

### 解决方法
#### 基于规则和词典的方法
该方法多用语言学专家手工构造规则模板，以模式和字符串相匹配为主要手段<br>
这类系统大都依赖于知识库和词典的建立<br>
缺点：主观性强，可移植性不好

#### 基于统计的方法
利用人工标注的语料进行训练
>主要有隐马尔可夫模型（HMM）、条件随机场（CRF）、最大熵、决策树、表决感知器和支持向量机等

其中HMM和CRF是目前评价比较好的方法<br>
`隐马尔可夫模型`指含有隐含未知参数的马尔可夫过程，在已知“现在”的条件下，“将来”与“过去”无关叫`强马尔可夫性`<br>
是一个五元组（Ω_x,Ω_0,A,B,Π）<br>
>Ω_x:{q_1,...,q_n}  状态的有限集合，即N个词类标注<br>
>Ω_0:{v_1,...,v_M}  观察的有限集合，即所有能看到的词集合，即语料生成的词典<br>
>A:{a_ij}  a_ij = P(X_t+1 = q_j|X_t = q_i)  转移概率，即词类标注之间的转移概率<br>
>B:{b_ik}  b_ik = P(Q_t = v_k|X_t = q_i)  输出概率，即词相对于标注的概率分布矩阵<br>
>Π:{Π_i}  Π_i = P{X_i = q_i}  初始状态分布，即第一个句子第一个词类标注的概率分布<br>

`隐马尔可夫模型`准确率相对不高但是训练和识别的速度要快一些，更适用于一些对实时性有要求以及像信息检索这样要处理大量文本的应用，但是目前语料库有限<br>
`条件随机场`提供了特征灵活，全局最优的标注框架，但是收敛速度慢，训练时间长<br>
`最大熵模型`则保留了全部的不确定性，将风险降到最低，具有较好的通用性，但是训练时间复杂性非常高，单独使用效果不好<br>
`决策树`<br>
`表决感知器`是基于感知器算法的在线错误驱动二分类算法，能克服训练过程中出现的震荡现象，但不能保证收敛性，在训练时间上比SVM优越，能有效对高维数据实现分类<br>
`支持向量机`根据有限的样本信息在模型的复杂性和学习能力之间寻求最佳折中，以求获得最好的推广能力<br>

* 统计的方法具有一定的客观性，但是人类语言的使用不是一个单纯的随机过程，使用统计的方法搜索空间往往非常大导致过大的开销

#### 混合方法
自然语言处理并不完全是一个随机过程,单独使用基于统计的方法使状态搜索空间非常庞大，必须借助规则知识提前进行过滤修剪处理。目前几乎没有单纯使用统计模型而不使用规则知识的命名实体识别系统，在很多情况下是使用混合方法。<br>
1. 统计学习方法之间或内部层叠融合。
2. 规则、词典和机器学习方法之间的融合，其核心是融合方法技术。在基于统计的学习方法中引入部分规则，将机器学习和人工知识结合起来。
3. 将各类模型、算法结合起来，将前一级模型的结果作为下一级的训练数据，并用这些训练数据对模型进行训练，得到下一级模型。
#### 监督学习
目前解决命名实体识别问题的`主导技术`就是监督式学习,这项技术包括Hidden Markov Models，Decision Trees, Maximun Entropy Models, Support Vector Machines 和Conditional Random Fields,他们都需要一个庞大的注释语料库，储存大量实体列表并根据那些具有区分能力的特征实际各种用于消除歧义的规则。<br>

* `有监督学习方法`基于大量标注语料，定义一系列实体，通过学习得到基于特征的判别规则<br>
* `半监督学习方法`只提供很少的标注数据，例如一些种子用于开始的学习<br>
* `无监督方法`通过相似的上下文将不同的命名实体聚到一起<br>

### 评价指标
* 正确率(Precision) = 识别出的正确实体数 / 识别出的实体数
* 召回率(Recall) = 识别出的正确实体数 / 样本的实体数
* F1值 = （2 * 正确率 * 召回率）/（正确率 + 召回率）

## 使用BiLSTM-CRF模型的中文命名实体识别项目
其目标是识别三种类型的命名实体：`PERSON`，`LOCATION`和`ORGANIZATION`。
![](https://github.com/Determined22/zh-NER-TF/blob/master/pics/pic1.png)

* 模型的第一层是look-up层，利用预训练或随机初始化的embedding矩阵将句子中的每个字x_i由one-hot向量映射为低维稠密的字向量
* 模型的第二层是双向LSTM层，自动提取句子特征。
* 模型的第三层是CRF层，进行句子级的序列标注。

#### 数据集
|    | #sentence | #PER | #LOC | #ORG |
| :----: | :---: | :---: | :---: | :---: |
| train  | 46364 | 17615 | 36517 | 20571 |
| test   | 4365  | 1973  | 2877  | 1331  |
#### 结果
| P     | R     | F     | F(PER)| F(LOC)| F(ORG)|
| :---: | :---: | :---: | :---: | :---: | :---: |
| 0.8982 | 0.8677 | 0.8827 | 0.8688 | 0.9161 | 0.8578

#### 使用训练好的模型制作的demo
![](https://github.com/qiuxingfa/picture_/blob/master/2018.8.23/5b0bfd3d1ee3b2d9360e91a3ff7cd86.png)

## KDD会议相关
KDD(Knowledge Discovery and Data mining)<br>
知识发现与数据挖掘<br>
KDD2018于本月19-23日在伦敦举行，收录了近300篇论文<br>

* 包括`图挖掘算法`，`隐私保护`，`医疗健康AI`，`出行零售人工智能`等等研究前沿内容

* 有27个workshop，涉及`数据挖掘`，`物联网`，`城市数据处理`，`社会组织行为`，`生物以及量子计算`等议题
* 有4场演讲
>David Hand - Data Science for Financial Applications<br>
>数据与金融应用<br>
>Alvin E. Roth - Market Design and Computerized Marketplaces<br>
>市场设计和计算市场<br>
>Yee Whye Teh - On Big Data Learning for Small Data Problems<br>
>用于小数据问题的大数据问题<br>
>Jeannette M. Wing - Data for Good<br>
>数据科学的良性发展<br>

* Acemap团队对2018年KDD所有论文进行了分析<br>
[KDD](https://acemap.info/KDD/MainPage#sessionCommerce%20and%20Profiling)<br>
包括[机构统计](https://acemap.info/KDD/AffiliationStatistics),[作者统计](https://acemap.info/KDD/AuthorStatistics),[作者关系图](https://acemap.info/app/KDD/AuthorMap2018.php),[论文解读](https://acemap.info/KDD/MainPage#sessionCommerce%20and%20Profiling),[Session关系图](https://acemap.info/KDD/RecommendationMap)等

## 下周计划
* 继续对命名实体识别和知识抽取做相关调研
* 学习斯坦福CS224n自然语言处理课程以及其他一些必要知识
